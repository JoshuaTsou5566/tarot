<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>大阿爾克納 - 靈性指引</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            margin: 0; 
            padding: 0; 
            overflow-x: hidden; 
            -webkit-tap-highlight-color: transparent;
            background-color: #020617;
            transition: background-color 0.8s ease;
        }
        .font-serif { font-family: 'Noto Serif TC', serif; }
        ::-webkit-scrollbar { display: none; }
        
        .animate-fade-up { animation: fadeUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .card-shuffle { animation: shuffleEffect 0.7s infinite alternate ease-in-out; }
        @keyframes shuffleEffect {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); }
            100% { transform: translate(10px, -15px) rotate(5deg) scale(1.05); }
        }

        .glass { backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .no-select { user-select: none; -webkit-user-select: none; }
        
        .stars-container {
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
        }
        .star {
            position: absolute; background: white; border-radius: 50%; opacity: 0.2;
            animation: twinkle var(--duration) infinite ease-in-out;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.3); }
        }

        .btn-active:active { transform: scale(0.95); transition: 0.1s; }
        input::placeholder { opacity: 0.4; }
        
        .modal-overlay { background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(8px); }

        /* 特製的高亮返回按鈕 */
        .btn-return-classic {
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
            color: #0f172a;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            border: 2px solid #334155;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- SVG 圖標 ---
        const ICONS = {
            Sparkles: <><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4M19 17v4M3 5h4M17 19h4"/></>,
            History: <><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/></>,
            Book: <><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-0.5-5"/><path d="M6.5 17H20"/></>,
            Moon: <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>,
            Sun: <><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></>,
            Lock: <><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></>,
            Refresh: <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8M21 3v5h-5M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16M3 21v-5h5"/>,
            Chevron: <polyline points="6 9 12 15 18 9" />,
            X: <><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></>,
            Share: <><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></>,
            ChiikawaHead: <path d="M12 22C6.5 22 2 17.5 2 12C2 8.5 4.5 5.5 8 4.5V2A1.5 1.5 0 0 1 11 2v2c.3-.1.6-.1.9-.1s.7 0 1 .1V2a1.5 1.5 0 0 1 3 0v2.5c3.5 1 6 4 6 7.5 0 5.5-4.5 10-10 10z" fill="currentColor" />,
            HachiwareHead: <path d="M12 22c-5.5 0-10-4.5-10-10 0-3.5 2.5-6.5 6-7.5L6 1l3-1 2 2.5c.3-.1.7-.2 1-.2s.7.1 1 .2L15 0l3 1-2 2.5c3.5 1 6 4 6 7.5 0 5.5-4.5 10-10 10z" fill="currentColor" />,
            UsagiHead: <path d="M12 22c-5.5 0-10-4.5-10-10 0-3.5 2-6.5 5-7.5V0a1.5 1.5 0 0 1 3 0v3.2c.6-.1 1.3-.2 2-.2s1.4.1 2 .2V0a1.5 1.5 0 0 1 3 0v3.5c3 1 5 4 5 7.5 0 5.5-4.5 10-10 10z" fill="currentColor" />,
            Save: <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8"/>,
            LogOut: <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
        };

        const TAROT_DATA = [
            { id: 0, numeral: "0", title: "愚者", meaning: "純真與開端", keywords: ["冒險", "自由", "勇氣", "無限可能"], love: ["新戀情的開端，純粹且無拘無束。", "過於魯莽，對關係缺乏承諾。"], social: ["結交新朋友，氣氛輕鬆愉快。", "容易被視為不靠譜或過於任性。"], work: ["適合轉職或開發新創意，充滿熱情。", "缺乏紀律與計畫，容易出錯。"], finance: ["對金錢抱持樂觀，可能有意外開銷。", "財務狀況不穩定，需防範過度消費。"] },
            { id: 1, numeral: "I", title: "魔術師", meaning: "創造力與掌握", keywords: ["創意", "掌握", "想像力", "資源"], love: ["充滿吸引力的開端，溝通順暢。", "甜言蜜語背後的虛偽，缺乏真心。"], social: ["展現個人才華，成為團體核心。", "可能給人油腔滑調、不誠實的印象。"], work: ["具備解決問題的能力，計畫順利推進。", "技術不成熟或能力不足卻硬撐。"], finance: ["有能力創造財富，善於理財規劃。", "投資陷阱或財務資訊不對稱。"] },
            { id: 2, numeral: "II", title: "女祭司", meaning: "直覺與寧靜", keywords: ["智慧", "神祕", "潛意識", "內省"], love: ["靈魂層面的契合，靜待發展。", "情緒壓抑，關係中存在隔閡。"], social: ["被視為明智、冷靜的傾聽者。", "過於孤僻或神祕，讓人難以接近。"], work: ["憑直覺做出正確決策，適合研究。", "忽視細節或過於感情用事。"], finance: ["保守理財，財務狀況平穩。", "理財資訊模糊，存在隱藏虧損。"] },
            { id: 3, numeral: "III", title: "皇后", meaning: "豐饒與愛", keywords: ["豐盛", "美感", "享樂", "母性"], love: ["感情甜蜜、豐收，可能迎來新生命。", "情感需求過大，產生依賴或控制感。"], social: ["氣氛和諧，充滿女性力量的關懷。", "過於嘮叨或干涉他人私生活。"], work: ["創意泉湧，環境充滿包容力。", "進度停滯不前，過於追求安逸。"], finance: ["財運極佳，享受優渥生活。", "揮霍無度，入不敷出。"] },
            { id: 4, numeral: "IV", title: "皇帝", meaning: "權威與秩序", keywords: ["穩定", "規範", "父權", "堅定"], love: ["關係穩定，給予對方極大的安全感。", "專制霸道，缺乏情感交流與柔軟。"], social: ["擔任領導者角色，受人景仰。", "權力鬥爭或過於僵化、難相處。"], work: ["建立系統，事業根基穩固。", "管理失敗，計畫被僵化的規則束縛。"], finance: ["穩定收入，專業的理財架構。", "過於保守或因控制欲導致財務損失。"] },
            { id: 5, numeral: "V", title: "教皇", meaning: "傳統與智慧", keywords: ["教導", "援助", "信仰", "導師"], love: ["重視承諾，適合步入婚姻或穩定關係。", "觀念分歧，被社會規範束縛的壓抑。"], social: ["尋求長輩或導師的指引，受惠良多。", "容易因觀念保守與人發生口角。"], work: ["遵循專業流程，獲得前輩提拔。", "排斥創新，計畫過於老舊無力。"], finance: ["信譽良好，適合穩健長期投資。", "財務糾紛，需小心信託合約問題。"] },
            { id: 6, numeral: "VI", title: "戀人", meaning: "選擇與契合", keywords: ["結合", "吸引力", "和諧", "交融"], love: ["完美和諧的愛情，做出正確的結合。", "面臨選擇困難，感情中出現第三者誘惑。"], social: ["建立深厚的友誼，合作無間。", "價值觀衝突，容易發生爭吵。"], work: ["適合合夥或團隊協作，目標一致。", "決策猶豫，團隊內部產生嫌隙。"], finance: ["正確的投資決策，財運平順。", "因情感因素導致不智的財務決定。"] },
            { id: 7, numeral: "VII", title: "戰車", meaning: "意志與勝利", keywords: ["意志", "衝刺", "克服", "掌控"], love: ["積極主動，成功克服情感上的障礙。", "情緒失控，關係中出現激烈的爭執。"], social: ["極具個人魅力，帶領團隊前進。", "剛愎自用，容易招致他人的反感。"], work: ["意志堅定，事業取得重大突破。", "目標迷失，因焦躁而導致計畫失敗。"], finance: ["積極開源，目標明確收益增長。", "收支失衡，因魯貌擴張而負債。"] },
            { id: 8, numeral: "VIII", title: "力量", meaning: "勇氣與慈悲", keywords: ["韌性", "不屈", "馴服", "溫和"], love: ["以柔克剛，成功導引對方的情緒。", "信心動搖，感到無力維持這段關係。"], social: ["待人真誠，擁有強大的親和力。", "容易受他人情緒勒索而感到疲憊。"], work: ["不畏挑戰，以耐性化解危機。", "能力受限，面對壓力時顯得軟弱。"], finance: ["量入為出，擁有良好的財務自制力。", "財務失控，被慾望牽著鼻子走。"] },
            { id: 9, numeral: "IX", title: "隱者", meaning: "內省與智慧", keywords: ["探索", "孤獨", "引導", "心靈"], love: ["享受獨處，或與伴侶進行深度心靈對話。", "過度孤立，拒絕對外溝通而產生隔閡。"], social: ["淡泊社交，專注於內在的成長。", "被邊緣化或感到寂寞，拒絕社交。"], work: ["深耕專業領域，智慧將帶來成功。", "進度遲緩，過於專注細節而忽略大局。"], finance: ["淡欲理財，財務狀況尚可。", "過於小氣或因封閉資訊錯失商機。"] },
            { id: 10, numeral: "X", title: "命運之輪", meaning: "週期與轉機", keywords: ["轉折", "輪迴", "週期", "契機"], love: ["命運的安排，關係迎來正向轉折。", "運氣不佳，情感進入停滯的低潮期。"], social: ["社交圈更迭，迎來有助益的新朋友。", "人際關係反覆無常，難以捉摸。"], work: ["時來運轉，掌握關鍵的晉升機會。", "阻礙重重，現狀難以被自己掌控。"], finance: ["財運回升，有意外的中獎機會。", "投資虧損，財務週期陷入不順。"] },
            { id: 11, numeral: "XI", title: "正義", meaning: "公平與平衡", keywords: ["平衡", "裁決", "真相", "責任"], love: ["誠實對待彼此，做出公平的決策。", "面臨冷戰，關係中存在明顯的不平等。"], social: ["處事公正，成為朋友間的調解人。", "遭受偏見或誤解，感到委屈。"], work: ["一切照制度執行，獲得應有的回饋。", "決策失準，需承擔過去錯誤的後學。"], finance: ["財務平衡，收支帳目清晰。", "財務爭議，可能面臨官司或合約問題。"] },
            { id: 12, numeral: "XII", title: "倒吊人", meaning: "犧牲與覺醒", keywords: ["等待", "奉獻", "新視角", "暫緩"], love: ["換位思考，在等待中獲得情感昇華。", "徒勞無功的犧牲，被動接受痛苦。"], social: ["寧願吃虧也要成就大局的慷慨。", "感到被周圍的人利用，內心抑鬱。"], work: ["暫時的沉寂是為了蓄積更大的能量。", "計畫停滯，做再多也看不到回報。"], finance: ["財務緩慢發展，需保持耐心。", "資金凍結，因判斷導致財務困境。"] },
            { id: 13, numeral: "XIII", title: "死神", meaning: "終結與新生", keywords: ["告別", "重啟", "大變動", "重生"], love: ["徹底告別過去，迎接全新的戀愛觀。", "死守一段有害的關係，拒絕改變。"], social: ["人際圈大洗牌，重新審視朋友圈。", "對社交感到絕望，內心充滿陰影。"], work: ["舊計畫終結，事業迎來重大轉機。", "被迫轉職或倒閉，內心極度不安。"], finance: ["結算舊帳，重新規劃理財方向。", "財務崩潰，突如其來的嚴重虧損。"] },
            { id: 14, numeral: "XIV", title: "節制", meaning: "平衡與調和", keywords: ["耐心", "調和", "溝通", "圓融"], love: ["心靈交流順暢，情感溫和且長久。", "溝通失靈，情緒起伏過大影響關係。"], social: ["人際關係圓融，善於整合資源。", "頻率不對，與周遭的人格格不入。"], work: ["協作順利，事物正穩定成長。", "資源浪費，各部門之間缺乏默契。"], finance: ["穩健理財，財富穩定累積中。", "開支混練，無法達到收支平衡。"] },
            { id: 15, numeral: "XV", title: "惡魔", meaning: "慾望與束縛", keywords: ["誘惑", "物慾", "沈溺", "陰暗面"], love: ["強烈吸引力，但伴隨著肉慾與制約。", "意識到關係的有害，正尋求解脫。"], social: ["沈溺於玩樂社交，容易被帶壞。", "看穿他人的虛偽，遠離不健康的社交。"], work: ["對權力有極大執念，可能採取極端手法。", "從繁重的工作壓力中獲得釋放。"], finance: ["財富慾望強大，可能會有橫財。", "陷入財務陷阱或債務泥沼。"] },
            { id: 16, numeral: "XVI", title: "塔", meaning: "劇變與啟示", keywords: ["崩解", "衝擊", "震撼", "重起"], love: ["感情發生劇烈衝擊，真相大白。", "僥倖逃過一劫，但關係已出現裂痕。"], social: ["朋友圈發生重大爭執，關係崩解。", "緩慢的衰敗，感覺朋友間漸行漸遠。"], work: ["計畫突然告吹，必須從廢墟重起。", "意識到危機存在，需立即調整防禦。"], finance: ["突如其來的破產或重大損失。", "勉強維持平衡，但已是強弩之末。"] },
            { id: 17, numeral: "XVII", title: "星星", meaning: "希望與療癒", keywords: ["靈感", "展望", "治癒", "平靜"], love: ["充滿未來的憧憬，感情得到治癒。", "願景破裂，對愛情感到失望與評憊。"], social: ["展現真實自我，吸引志同道合者。", "感到孤傲或被外界忽視，失去光芒。"], work: ["靈感豐沛，找到長遠發展的方向。", "計畫不切實際，淪為空談。"], finance: ["財運平順，理財方向充滿希望。", "財務願景遙不可及，需回歸現實。"] },
            { id: 18, numeral: "XVIII", title: "月亮", meaning: "不安與潛意識", keywords: ["焦慮", "模糊", "夢境", "欺瞞"], love: ["情感模糊不清，存在隱瞞或幻覺。", "迷霧散去，看清了感情中的真相。"], social: ["小人作祟，人際關係充滿猜忌。", "內心的焦慮減寫，不再疑神疑鬼。"], work: ["資訊不明，需警惕隱藏的陷阱。", "解決了工作中的曖昧地帶。"], finance: ["財務狀況模糊，不宜進行投資。", "發現帳目上的漏洞或欺詐。"] },
            { id: 19, numeral: "XIX", title: "太陽", meaning: "光明與成功", keywords: ["喜悅", "活力", "成功", "光明"], love: ["戀情公開受祝福，關係充滿活力。", "過於自負，光芒刺眼讓伴侶感到壓抑。"], social: ["廣受歡迎，人際關係燦爛奪目。", "為了面子而強顏歡笑，內心疲累。"], work: ["事業如日中天，獲得顯著的成就感。", "成功後的倦怠，或遭遇短暫的挫敗。"], finance: ["收入豐厚，財運旺盛且穩定。", "暫時性的財務吃緊，需開節約流。"] },
            { id: 20, numeral: "XX", title: "審判", meaning: "復活與感召", keywords: ["覺醒", "反省", "再生", "決定"], love: ["破鏡重圓，或關係升級到新高度。", "重蹈覆轍，拒絕面對過去。"], social: ["透過自我反省，改善了與人的關係。", "遭受輿論批評或他人的負面指點。"], work: ["獲知關鍵消息，事業獲得新生機會。", "錯師良機，無法從過去的失敗中學習。"], finance: ["財務狀況結算，獲得正向果實。", "財務審計出問題，需承擔過去後果。"] },
            { id: 21, numeral: "XXI", title: "世界", meaning: "圓滿與整合", keywords: ["圓滿", "整合", "完美", "達成"], love: ["靈魂伴侶，情感生活達到完美境地。", "差一點點就圓滿，存在未竟之志。"], social: ["擁有廣闊的人脈，社交無往不利。", "人際圈雖然大，但感到心靈空虛。"], work: ["計畫圓滿達成，贏得業界極高聲譽。", "進度即將完成最後關頭產生拖延。"], finance: ["財富達到預期目標，財務自由。", "財富累積受阻，無法突破最後瓶頸
